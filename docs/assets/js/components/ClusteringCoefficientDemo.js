(function(a,m){typeof exports=="object"&&typeof module<"u"?module.exports=m(require("react")):typeof define=="function"&&define.amd?define(["react"],m):(a=typeof globalThis<"u"?globalThis:a||self,a.ClusteringCoefficientDemo=m(a.React))})(this,function(a){"use strict";var m={exports:{}},u={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w=a,C=Symbol.for("react.element"),E=Symbol.for("react.fragment"),_=Object.prototype.hasOwnProperty,k=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S={key:!0,ref:!0,__self:!0,__source:!0};function y(l,o,f){var c,g={},p=null,j=null;f!==void 0&&(p=""+f),o.key!==void 0&&(p=""+o.key),o.ref!==void 0&&(j=o.ref);for(c in o)_.call(o,c)&&!S.hasOwnProperty(c)&&(g[c]=o[c]);if(l&&l.defaultProps)for(c in o=l.defaultProps,o)g[c]===void 0&&(g[c]=o[c]);return{$$typeof:C,type:l,key:p,ref:j,props:g,_owner:k.current}}u.Fragment=E,u.jsx=y,u.jsxs=y,m.exports=u;var e=m.exports;return()=>{const l=[{id:0,x:200,y:100},{id:1,x:300,y:80},{id:2,x:380,y:140},{id:3,x:360,y:220},{id:4,x:280,y:260},{id:5,x:200,y:240},{id:6,x:120,y:200},{id:7,x:100,y:120},{id:8,x:140,y:160},{id:9,x:250,y:180}],[o,f]=a.useState(new Set(["0-1","1-2","2-3","3-4","4-5","5-6","6-7","7-0","0-9","1-9","2-9","4-9","5-9","8-5","8-6","8-9"])),[c,g]=a.useState(0),[p,j]=a.useState(0),[O,T]=a.useState(0),b=a.useCallback(()=>{const s={};l.forEach(n=>{s[n.id]=[]}),o.forEach(n=>{const[d,r]=n.split("-").map(Number);s[d].push(r),s[r].push(d)});let t=0,i=0;l.forEach(n=>{const d=n.id,r=s[d];for(let h=0;h<r.length;h++)for(let x=0;x<r.length;x++)h!==x&&(t++,o.has(`${Math.min(r[h],r[x])}-${Math.max(r[h],r[x])}`)&&i++)}),j(t),T(i),g(t>0?i/t:0)},[o]);a.useEffect(()=>{b()},[b]);const P=s=>{const[t,i]=s.split("-").map(Number),n={};l.forEach(h=>{n[h.id]=[]}),o.forEach(h=>{const[x,v]=h.split("-").map(Number);n[x].push(v),n[v].push(x)});const d=new Set(n[t]),r=new Set(n[i]);for(let h of d)if(r.has(h))return!0;return!1},R=(s,t)=>{const i=`${Math.min(s,t)}-${Math.max(s,t)}`,n=new Set(o);n.has(i)?n.delete(i):n.add(i),f(n)},L=()=>{f(new Set(["0-1","1-2","2-3","3-4","4-5","5-6","6-7","7-0","0-9","1-9","2-9","4-9","5-9","8-5","8-6","8-9"]))},I=()=>{const s=new Set;for(let t=0;t<l.length;t++)for(let i=t+1;i<l.length;i++)s.add(`${t}-${i}`);f(s)},N=[];for(let s=0;s<l.length;s++)for(let t=s+1;t<l.length;t++)N.push({u:s,v:t});return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Interactive Clustering Coefficient Demo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Click on the space between any two nodes to toggle edges. The clustering coefficient measures the fraction of paths of length two that are closed (form triangles)."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-700",children:"Paths of Length Two"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:p})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-700",children:"Closed Paths"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:O})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-700",children:"Clustering Coefficient"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.toFixed(3)})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-1 bg-blue-500"}),e.jsx("span",{children:"Edges in triangles (closed paths)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-1 bg-gray-600"}),e.jsx("span",{children:"Other edges"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-600 rounded-full"}),e.jsx("span",{children:"Nodes"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium",children:"Reset Original"}),e.jsx("button",{onClick:I,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm font-medium",children:"Complete Graph (C=1)"})]})]})})]}),e.jsx("div",{className:"relative",children:e.jsxs("svg",{width:"500",height:"350",className:"border border-gray-300 rounded-lg bg-gray-50",children:[N.map(({u:s,v:t})=>{const i=l[s],n=l[t],d=(i.x+n.x)/2,r=(i.y+n.y)/2;return e.jsx("circle",{cx:d,cy:r,r:"12",fill:"transparent",className:"cursor-pointer hover:fill-gray-200 hover:fill-opacity-30",onClick:()=>R(s,t)},`click-${s}-${t}`)}),Array.from(o).map(s=>{const[t,i]=s.split("-").map(Number),n=l[t],d=l[i],r=P(s);return e.jsx("line",{x1:n.x,y1:n.y,x2:d.x,y2:d.y,stroke:r?"#3B82F6":"#4B5563",strokeWidth:"2",className:"pointer-events-none"},s)}),l.map(s=>e.jsx("circle",{cx:s.x,cy:s.y,r:"8",fill:"#4B5563",className:"pointer-events-none"},s.id)),l.map(s=>e.jsx("text",{x:s.x,y:s.y-15,textAnchor:"middle",className:"text-xs fill-gray-700 pointer-events-none font-medium",children:s.id},`label-${s.id}`))]})}),e.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"How it works:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsxs("li",{children:["• A ",e.jsx("strong",{children:"path of length two"})," is any sequence u→v→w where edges u-v and v-w exist"]}),e.jsxs("li",{children:["• A path is ",e.jsx("strong",{children:"closed"})," if the third edge u-w also exists (forming a triangle)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Clustering coefficient"})," = (closed paths) / (total paths of length two)"]}),e.jsx("li",{children:"• Click between nodes to add/remove edges and see how it affects the clustering coefficient"})]})]})]})}});
